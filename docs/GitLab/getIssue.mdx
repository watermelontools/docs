# Get Issue

## Route

```
api/gitlab/getIssue
```

## Method

POST

## Params

```
{
    "issue_iid": "string",
    "project_id": "string",
    "user": "string",
}
```

Where:

- user: email of the user to search (registry on app). Not necessarily GitHub email.
- project_id: the id of the project the issue belongs to.
- issue_iid: the iid for the issue, not the id.

## Response

### Errors

If the user does not exist, there will be no access token

```
{
    "error": "no access_token"
}
```

If nothing comes in the `user` param

```
{
    "error": "no user"
}
```

If nothing comes in the `project_id` param

```
{
    "error": "no project_id"
}
```

If nothing comes in the `issue_iid` param

```
{
    "error": "no issue_iid"
}
```

### Success

```
{
    "id": 13728851,
    "iid": 2,
    "project_id": 7894733,
    "title": "Feedback MS3 O1",
    "description": "Hey!\nI graded you. Check it out.\nhttps://gitlab.com/EstebanDalelR1/ISIS3510_201820_P_e.dalel10/wikis/sprint-1/ms3",
    "state": "opened",
    "created_at": "2018-08-27T14:57:42.829Z",
    "updated_at": "2018-08-27T14:57:42.829Z",
    "closed_at": null,
    "closed_by": null,
    "labels": [],
    "milestone": null,
    "assignees": [],
    "author": {
        "id": 2685026,
        "username": "EstebanDalelR1",
        "name": "Esteban Dalel R",
        "state": "active",
        "avatar_url": "https://gitlab.com/uploads/-/system/user/avatar/2685026/avatar.png",
        "web_url": "https://gitlab.com/EstebanDalelR1"
    },
    "type": "ISSUE",
    "assignee": null,
    "user_notes_count": 0,
    "merge_requests_count": 0,
    "upvotes": 0,
    "downvotes": 0,
    "due_date": null,
    "confidential": false,
    "discussion_locked": null,
    "issue_type": "issue",
    "web_url": "https://gitlab.com/jdguzmans/ISIS3510_201820_P_jd.guzman10/-/issues/2",
    "time_stats": {
        "time_estimate": 0,
        "total_time_spent": 0,
        "human_time_estimate": null,
        "human_total_time_spent": null
    },
    "task_completion_status": {
        "count": 0,
        "completed_count": 0
    },
    "blocking_issues_count": 0,
    "has_tasks": false,
    "_links": {
        "self": "https://gitlab.com/api/v4/projects/7894733/issues/2",
        "notes": "https://gitlab.com/api/v4/projects/7894733/issues/2/notes",
        "award_emoji": "https://gitlab.com/api/v4/projects/7894733/issues/2/award_emoji",
        "project": "https://gitlab.com/api/v4/projects/7894733",
        "closed_as_duplicate_of": null
    },
    "references": {
        "short": "#2",
        "relative": "#2",
        "full": "jdguzmans/ISIS3510_201820_P_jd.guzman10#2"
    },
    "severity": "UNKNOWN",
    "subscribed": true,
    "moved_to_id": null,
    "service_desk_reply_to": null
}
```
